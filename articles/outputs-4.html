<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Outputs: Relative effects, forest plots and rankings • MBNMAtime</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Outputs: Relative effects, forest plots and rankings">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MBNMAtime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/consistencychecking-3.html">Checking for consistency</a></li>
    <li><a class="dropdown-item" href="../articles/dataexploration-1.html">Exploring the data</a></li>
    <li><a class="dropdown-item" href="../articles/mbnmatime-overview.html">MBNMAtime: Package Overview</a></li>
    <li><a class="dropdown-item" href="../articles/outputs-4.html">Outputs: Relative effects, forest plots and rankings</a></li>
    <li><a class="dropdown-item" href="../articles/predictions-5.html">Calculating model predictions</a></li>
    <li><a class="dropdown-item" href="../articles/runmbnmatime-2.html">Perform a time-course Model-Based Network Meta-Analysis (MBNMA)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Outputs: Relative effects, forest plots and rankings</h1>
                        <h4 data-toc-skip class="author">Hugo
Pedder</h4>
            
            <h4 data-toc-skip class="date">2025-01-21</h4>
      

      <div class="d-none name"><code>outputs-4.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="estimating-relatived-effects-between-treatments-at-a-specified-time-point">Estimating relatived effects between treatments at a specified
time-point<a class="anchor" aria-label="anchor" href="#estimating-relatived-effects-between-treatments-at-a-specified-time-point"></a>
</h2>
<p>Although <code><a href="../reference/mb.run.html">mb.run()</a></code> estimates the effects for different
treatments on different time-course parameters, these are not
necessarily easy to draw conclusions from, particularly for time-course
functions with less easily interpretable parameters.
<code><a href="../reference/get.relative.html">get.relative()</a></code> allows users to calculate mean differences
(or log-Ratio of Means if <code>mb.run(link="log")</code>) between
treatments at a specified time-point even if a subset, or even none of
the treatments have been investigated at that time-point in included
RCTs.</p>
<p>These results will then be reported on the scale on which the data
were modeled (i.e. depending on the link function specified in
<code><a href="../reference/mb.run.html">mb.run()</a></code>), rather than that of the specific time-course
parameters. Within the matrices of results, mean differences/relative
effects are shown as the row-defined treatment versus the column-defined
treatment.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run a quadratic time-course MBNMA using the alogliptin dataset</span></span>
<span><span class="va">network.alog</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.network.html">mb.network</a></span><span class="op">(</span><span class="va">alog_pcfb</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reference treatment is `placebo`</span></span>
<span><span class="co">#&gt; Studies reporting change from baseline automatically identified from the data</span></span>
<span></span>
<span><span class="va">mbnma</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.run.html">mb.run</a></span><span class="op">(</span><span class="va">network.alog</span>, </span>
<span>                fun<span class="op">=</span><span class="fu"><a href="../reference/tpoly.html">tpoly</a></span><span class="op">(</span>degree<span class="op">=</span><span class="fl">2</span>,</span>
<span>                          pool.1<span class="op">=</span><span class="st">"rel"</span>, method.1<span class="op">=</span><span class="st">"random"</span>,</span>
<span>                          pool.2<span class="op">=</span><span class="st">"rel"</span>, method.2<span class="op">=</span><span class="st">"common"</span></span>
<span>                          <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; module glm loaded</span></span>
<span><span class="co">#&gt; Compiling model graph</span></span>
<span><span class="co">#&gt;    Resolving undeclared variables</span></span>
<span><span class="co">#&gt;    Allocating nodes</span></span>
<span><span class="co">#&gt; Graph information:</span></span>
<span><span class="co">#&gt;    Observed stochastic nodes: 233</span></span>
<span><span class="co">#&gt;    Unobserved stochastic nodes: 71</span></span>
<span><span class="co">#&gt;    Total graph size: 4375</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Initializing model</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate relative effects between 3 treatments</span></span>
<span><span class="va">allres</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get.relative.html">get.relative</a></span><span class="op">(</span><span class="va">mbnma</span>, time<span class="op">=</span><span class="fl">20</span>,</span>
<span>                       treats <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alog_100"</span>, <span class="st">"alog_50"</span>, <span class="st">"placebo"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">allres</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">========================================</span></span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; Treatment comparisons at time = 20</span></span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; ========================================</span></span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; </span></span></span>
<span><span class="co">#&gt;      alog_100        0.89 (0.62, 1.2)    0.87 (-0.49, 2.3) </span></span>
<span><span class="co">#&gt; -0.89 (-1.2, -0.62)       alog_50       -0.023 (-1.4, 1.4) </span></span>
<span><span class="co">#&gt; -0.87 (-2.3, 0.49)   0.023 (-1.4, 1.4)        placebo</span></span></code></pre></div>
<p><code><a href="../reference/get.relative.html">get.relative()</a></code> can also be used to perform a 2-stage
MBNMA that allows synthesis of results from two different MBNMA models
via a single common comparator. In an MBNMA model, all treatments must
share the same time-course function. However, a 2-stage approach can
enable fitting of different time-course functions to different sets
(“subnetworks”) of treatments. For example, some treatments may have
rich time-course information, allowing for a more complex time-course
function to be used, whereas others may be sparse, requiring a simpler
time-course function.</p>
<p>Relative comparisons between treatments in the two datasets at
specific follow-up times can then be estimated from MBNMA predicted
effects versus a common comparator using the Bucher method and assuming
consistency.</p>
<div class="figure">
<img src="2stageMBNMA.png" alt="2-stage MBNMA: For clarity, 95%CrIs are not shown in the plots or tables but these are calculated and computed in `get.relative()`. Thick connecting lines in network plots indicate comparisons with rich time-course data that can be modelled with a more complex function (e.g. B-spline), thin connecting lines in network plots indicate comparisons with sparse time-course data that can only be modelled with a less complex function (e.g. BEST-ITP). Comparisons between treatments in different subnetworks that are not the network reference must be excluded (red dashed line in network plot)." width="610"><p class="caption">
2-stage MBNMA: For clarity, 95%CrIs are not shown in the plots or tables
but these are calculated and computed in <code><a href="../reference/get.relative.html">get.relative()</a></code>.
Thick connecting lines in network plots indicate comparisons with rich
time-course data that can be modelled with a more complex function
(e.g. B-spline), thin connecting lines in network plots indicate
comparisons with sparse time-course data that can only be modelled with
a less complex function (e.g. BEST-ITP). Comparisons between treatments
in different subnetworks that are not the network reference must be
excluded (red dashed line in network plot).
</p>
</div>
<ul>
<li>Step 1: The network at a chosen network reference treatment (A) into
subnetworks with rich and sparse time-course data.</li>
<li>Step 2: Separate time-course MBNMAs are fitted to each subnetwork
using a different time-course function, and relative effects versus the
network reference treatment are predicted over time.</li>
<li>Step 3: Bucher method is used to calculate predicted relative
effects between all treatments at specific time-points of interest
(e.g. <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mn>1</mn></msub><annotation encoding="application/x-tex">{S_{1}}</annotation></semantics></math>,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mn>2</mn></msub><annotation encoding="application/x-tex">{S_{2}}</annotation></semantics></math>
and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>S</mi><mn>3</mn></msub><annotation encoding="application/x-tex">{S_{3}}</annotation></semantics></math>).
This can be done with <code><a href="../reference/get.relative.html">get.relative()</a></code> using the output from
both MBNMA models in <code>mbnma</code> and <code>mbnma.add</code>
arguments. For more details and an example see the function help file
(<code><a href="../reference/get.relative.html">?get.relative</a></code>).</li>
</ul>
</div>
<div class="section level2">
<h2 id="deviance-plots">Deviance plots<a class="anchor" aria-label="anchor" href="#deviance-plots"></a>
</h2>
<p>To assess how well a model fits the data, it can be useful to look at
a plot of the contributions of each data point to the total deviance or
residual deviance. This can be done using <code><a href="../reference/devplot.html">devplot()</a></code>. As
individual deviance contributions are not automatically monitored in the
model, this might require the model to be run for additional
iterations.</p>
<p>Results can be plotted either as a scatter plot
(<code>plot.type="scatter"</code>) or a series of boxplots
(<code>plot.type="box"</code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using the osteoarthritis dataset</span></span>
<span><span class="va">network.pain</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.network.html">mb.network</a></span><span class="op">(</span><span class="va">osteopain</span>, reference <span class="op">=</span> <span class="st">"Pl_0"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run a first-order fractional polynomial time-course MBNMA</span></span>
<span><span class="va">mbnma</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.run.html">mb.run</a></span><span class="op">(</span><span class="va">network.pain</span>, </span>
<span>                fun<span class="op">=</span><span class="fu"><a href="../reference/tfpoly.html">tfpoly</a></span><span class="op">(</span>degree<span class="op">=</span><span class="fl">1</span>,</span>
<span>                          pool.1<span class="op">=</span><span class="st">"rel"</span>, method.1<span class="op">=</span><span class="st">"random"</span>,</span>
<span>                          method.power1<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot a box-plot of deviance contributions (the default)</span></span>
<span><span class="fu"><a href="../reference/devplot.html">devplot</a></span><span class="op">(</span><span class="va">mbnma</span>, n.iter<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Studies reporting change from baseline automatically identified from the data</span></span>
<span><span class="co">#&gt; `dev` not monitored in mbnma$parameters.to.save.</span></span>
<span><span class="co">#&gt; additional iterations will be run in order to obtain results for `dev`</span></span></code></pre>
<p><img src="outputs-4_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>From these plots we can see that whilst the model fit is typically
better at later time points, it fits very poorly at earlier time
points.</p>
<p>A function that appropriately captures the time-course shape should
show a reasonably flat shape of deviance contributions
(i.e. contributions should be similar across all time points).</p>
<p>If saved to an object, the output of <code><a href="../reference/devplot.html">devplot()</a></code> contains
the results for individual deviance contributions, and this can be used
to identify any extreme outliers.</p>
</div>
<div class="section level2">
<h2 id="fitted-values">Fitted values<a class="anchor" aria-label="anchor" href="#fitted-values"></a>
</h2>
<p>Another approach for assessing model fit can be to plot the fitted
values, using <code><a href="../reference/fitplot.html">fitplot()</a></code>. As with <code><a href="../reference/devplot.html">devplot()</a></code>,
this may require running additional model iterations to monitor
<code>theta</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot fitted and observed values with treatment labels</span></span>
<span><span class="fu"><a href="../reference/fitplot.html">fitplot</a></span><span class="op">(</span><span class="va">mbnma</span>, n.iter<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
<p>Fitted values are plotted as connecting lines and observed values in
the original dataset are plotted as points. These plots can be used to
identify if the model fits the data well for different treatments and at
different parts of the time-course.</p>
</div>
<div class="section level2">
<h2 id="forest-plots">Forest plots<a class="anchor" aria-label="anchor" href="#forest-plots"></a>
</h2>
<p>Forest plots can be easily generated from MBNMA models using the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method on an <code>"mbnma"</code> object. By default
this will plot a separate panel for each time-course parameter in the
model. Forest plots can only be generated for parameters which vary by
treatment/class.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run a quadratic time-course MBNMA using the alogliptin dataset</span></span>
<span><span class="va">mbnma</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.run.html">mb.run</a></span><span class="op">(</span><span class="va">network.alog</span>, </span>
<span>                fun<span class="op">=</span><span class="fu"><a href="../reference/tpoly.html">tpoly</a></span><span class="op">(</span>degree<span class="op">=</span><span class="fl">2</span>,</span>
<span>                          pool.1<span class="op">=</span><span class="st">"rel"</span>, method.1<span class="op">=</span><span class="st">"random"</span>,</span>
<span>                          pool.2<span class="op">=</span><span class="st">"rel"</span>, method.2<span class="op">=</span><span class="st">"common"</span></span>
<span>                          <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">mbnma</span><span class="op">)</span></span></code></pre></div>
<p><img src="outputs-4_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="rank-ranking">
<code>rank()</code>: Ranking<a class="anchor" aria-label="anchor" href="#rank-ranking"></a>
</h2>
<p>Rankings can be calculated for different time-course parameters from
MBNMA models by using <code><a href="../reference/rank.html">rank()</a></code> on an <code>"mbnma"</code>
object. Any parameter monitored in an MBNMA model that varies by
treatment/class can be ranked by passing its name to the
<code>params</code> argument. <code>lower_better</code> indicates
whether negative scores should be ranked as “better” (<code>TRUE</code>)
or “worse” (<code>FALSE</code>)</p>
<p>In addition, it is possible to rank the Area Under the Curve (AUC)
for a particular treatment by specifying <code>param="auc"</code> (this
is the default). This will calculate the area under the predicted
response over time, and will therefore be a function of all the
time-course parameters in the model simultaneously. However, it will be
dependent on the range of times chosen to integrate over
(<code>int.range</code>), and a different choice of time-frame may lead
to different treatment rankings. <code>"auc"</code> can also not
currently be calculated from MBNMA models with more complex time-course
functions (piecewise, fractional polynomials), nor with MBNMA models
that use class effects.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using the osteoarthritis dataset</span></span>
<span><span class="va">network.pain</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.network.html">mb.network</a></span><span class="op">(</span><span class="va">osteopain</span>, reference <span class="op">=</span> <span class="st">"Pl_0"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Studies reporting change from baseline automatically identified from the data</span></span>
<span></span>
<span><span class="co"># Run a piecewise linear time-course MBNMA with a knot at 1 week</span></span>
<span><span class="va">mbnma</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mb.run.html">mb.run</a></span><span class="op">(</span><span class="va">network.pain</span>,</span>
<span>                fun<span class="op">=</span><span class="fu"><a href="../reference/tspline.html">tspline</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">"ls"</span>, knots <span class="op">=</span> <span class="fl">1</span>,</span>
<span>                            pool.1 <span class="op">=</span> <span class="st">"rel"</span>, method.1<span class="op">=</span><span class="st">"common"</span>,</span>
<span>                            pool.2 <span class="op">=</span> <span class="st">"rel"</span>, method.2<span class="op">=</span><span class="st">"common"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Rank results based on AUC (calculated 0-10 weeks), more negative slopes considered to be "better"</span></span>
<span><span class="va">ranks</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rank.html">rank</a></span><span class="op">(</span><span class="va">mbnma</span>, param<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"auc"</span><span class="op">)</span>, </span>
<span>                    int.range<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span><span class="op">)</span>,  lower_better <span class="op">=</span> <span class="cn">TRUE</span>, n.iter<span class="op">=</span><span class="fl">1000</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ranks</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; ========================================</span></span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; Treatment rankings</span></span></span>
<span><span class="co"><span style="font-weight: bold;">#&gt; ========================================</span> </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="font-weight: bold; text-decoration: underline;">auc ranking</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |Treatment |  Mean| Median| 2.5%| 97.5%|</span></span>
<span><span class="co">#&gt; |:---------|-----:|------:|----:|-----:|</span></span>
<span><span class="co">#&gt; |Pl_0      | 26.76|   27.0|   25| 28.00|</span></span>
<span><span class="co">#&gt; |Ce_100    | 20.97|   21.0|   16| 24.00|</span></span>
<span><span class="co">#&gt; |Ce_200    | 13.20|   13.0|   10| 16.00|</span></span>
<span><span class="co">#&gt; |Ce_400    | 11.05|   11.0|    7| 16.00|</span></span>
<span><span class="co">#&gt; |Du_90     | 15.22|   24.5|    1| 29.00|</span></span>
<span><span class="co">#&gt; |Et_10     | 25.89|   26.0|   23| 28.00|</span></span>
<span><span class="co">#&gt; |Et_30     |  7.26|    7.0|    5| 10.00|</span></span>
<span><span class="co">#&gt; |Et_5      | 23.31|   23.0|   19| 26.00|</span></span>
<span><span class="co">#&gt; |Et_60     |  3.28|    3.0|    2|  5.00|</span></span>
<span><span class="co">#&gt; |Et_90     |  3.69|    4.0|    2|  5.00|</span></span>
<span><span class="co">#&gt; |Lu_100    | 15.68|   16.0|   11| 20.00|</span></span>
<span><span class="co">#&gt; |Lu_200    | 16.22|   16.0|   12| 20.00|</span></span>
<span><span class="co">#&gt; |Lu_400    | 10.45|   10.0|    7| 14.00|</span></span>
<span><span class="co">#&gt; |Lu_NA     | 15.25|   23.0|    1| 29.00|</span></span>
<span><span class="co">#&gt; |Na_1000   |  5.67|    6.0|    4|  8.00|</span></span>
<span><span class="co">#&gt; |Na_1500   |  7.67|    8.0|    5| 10.00|</span></span>
<span><span class="co">#&gt; |Na_250    | 27.88|   28.0|   26| 29.00|</span></span>
<span><span class="co">#&gt; |Na_750    | 14.31|   14.0|   10| 19.00|</span></span>
<span><span class="co">#&gt; |Ox_44     |  8.70|    8.0|    4| 20.00|</span></span>
<span><span class="co">#&gt; |Ro_12     | 17.64|   18.0|   11| 23.00|</span></span>
<span><span class="co">#&gt; |Ro_125    |  1.95|    2.0|    1|  3.00|</span></span>
<span><span class="co">#&gt; |Ro_25     |  7.99|    8.0|    4| 12.02|</span></span>
<span><span class="co">#&gt; |Tr_100    | 25.11|   25.0|   23| 27.00|</span></span>
<span><span class="co">#&gt; |Tr_200    | 23.77|   24.0|   22| 26.00|</span></span>
<span><span class="co">#&gt; |Tr_300    | 19.96|   20.0|   16| 23.00|</span></span>
<span><span class="co">#&gt; |Tr_400    | 18.86|   19.0|   14| 23.00|</span></span>
<span><span class="co">#&gt; |Va_10     | 17.62|   18.0|   11| 22.00|</span></span>
<span><span class="co">#&gt; |Va_20     | 11.96|   12.0|    7| 18.00|</span></span>
<span><span class="co">#&gt; |Va_5      | 17.70|   18.0|   11| 23.00|</span></span></code></pre></div>
<p>The output is an object of <code>class("mb.rank")</code>, containing
a list for the ranked parameter which consists of a summary table of
rankings and raw information on treatment ranking and probabilities. The
summary median ranks with 95% credible intervals can be simply displayed
using <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>.</p>
<p>Histograms for ranking results can also be plotted using the
<code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> method, which takes the raw MCMC ranking results
given in <code>rank.matrix</code> and plots the number of MCMC
iterations the parameter value for each treatment was ranked a
particular position.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Ranking histograms for AUC</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">ranks</span><span class="op">)</span></span></code></pre></div>
<p><img src="outputs-4_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
<p>Cumulative rankograms indicating the probability of each treatment
being ranked 1st, 2nd, etc. for each ranked parameter can also be
plotted using <code><a href="../reference/cumrank.html">cumrank()</a></code>. These can be used to easily
compare how different treatments rank for each ranked parameter
simultaneously. By default, the Surface Under the Cumulative Ranking
curve (SUCRA) are also returned for each treatment and ranked parameter
<span class="citation">(Salanti, Ades, and Ioannidis 2011)</span>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cumulative ranking for all ranked parameters</span></span>
<span><span class="fu"><a href="../reference/cumrank.html">cumrank</a></span><span class="op">(</span><span class="va">ranks</span><span class="op">)</span></span></code></pre></div>
<p><img src="outputs-4_files/figure-html/unnamed-chunk-13-1.png" width="672"></p>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 29 × 3</span></span></span>
<span><span class="co">#&gt;    treatment parameter  sucra</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Pl_0      auc       0.094<span style="text-decoration: underline;">5</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Ce_100    auc       0.294 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Ce_200    auc       0.562 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Ce_400    auc       0.636 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Du_90     auc       0.486 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Et_10     auc       0.125 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Et_30     auc       0.767 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Et_5      auc       0.213 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Et_60     auc       0.904 </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Et_90     auc       0.890 </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 19 more rows</span></span></span></code></pre>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-salanti2011" class="csl-entry">
Salanti, G., A. E. Ades, and J. P. Ioannidis. 2011. <span>“Graphical
Methods and Numerical Summaries for Presenting Results from
Multiple-Treatment Meta-Analysis: An Overview and Tutorial.”</span>
Journal Article. <em>J Clin Epidemiol</em> 64 (2): 163–71. <a href="https://doi.org/10.1016/j.jclinepi.2010.03.016" class="external-link">https://doi.org/10.1016/j.jclinepi.2010.03.016</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
