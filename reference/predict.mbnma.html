<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Predict effects over time in a given population based on MBNMA time-course models — predict.mbnma • MBNMAtime</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Predict effects over time in a given population based on MBNMA time-course models — predict.mbnma"><meta name="description" content="Used to predict effects over time for different treatments or to predict
the results of a new study. For MBNMA models that include consistency
relative effects on time-course parameters, this is calculated by combining
relative treatment effects with a given reference treatment response
(specific to the population of interest)."><meta property="og:description" content="Used to predict effects over time for different treatments or to predict
the results of a new study. For MBNMA models that include consistency
relative effects on time-course parameters, this is calculated by combining
relative treatment effects with a given reference treatment response
(specific to the population of interest)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MBNMAtime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/consistencychecking-3.html">Checking for consistency</a></li>
    <li><a class="dropdown-item" href="../articles/dataexploration-1.html">Exploring the data</a></li>
    <li><a class="dropdown-item" href="../articles/mbnmatime-overview.html">MBNMAtime: Package Overview</a></li>
    <li><a class="dropdown-item" href="../articles/outputs-4.html">Outputs: Relative effects, forest plots and rankings</a></li>
    <li><a class="dropdown-item" href="../articles/predictions-5.html">Calculating model predictions</a></li>
    <li><a class="dropdown-item" href="../articles/runmbnmatime-2.html">Perform a time-course Model-Based Network Meta-Analysis (MBNMA)</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Predict effects over time in a given population based on MBNMA time-course models</h1>

      <div class="d-none name"><code>predict.mbnma.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Used to predict effects over time for different treatments or to predict
the results of a new study. For MBNMA models that include consistency
relative effects on time-course parameters, this is calculated by combining
relative treatment effects with a given reference treatment response
(specific to the population of interest).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'mbnma'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">object</span><span class="op">$</span><span class="va">model.arg</span><span class="op">$</span><span class="va">jagsdata</span><span class="op">$</span><span class="va">time</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, length.out <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,</span>
<span>  E0 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  treats <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"treatment"</span>,</span>
<span>  ref.resp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  synth <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>  lim <span class="op">=</span> <span class="st">"cred"</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>An S3 object of <code>class("mbnma")</code> generated by running
a time-course MBNMA model</p></dd>


<dt id="arg-times">times<a class="anchor" aria-label="anchor" href="#arg-times"></a></dt>
<dd><p>A sequence of positive numbers indicating which time points to
predict mean responses for (or at which to conduct a node-split if used with <code><a href="mb.nodesplit.html">mb.nodesplit()</a></code>)</p></dd>


<dt id="arg-e-">E0<a class="anchor" aria-label="anchor" href="#arg-e-"></a></dt>
<dd><p>An object to indicate the value(s) to use for the response at time = 0
in the prediction. This can take a number of different formats depending
on how it will be used/calculated. The default is 0 but this may lead
to non-sensical predictions if Ratio of Means are modeled.</p><ul><li><p><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code> A single numeric value representing the deterministic response at time = 0</p></li>
<li><p><code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code> A formula representing a stochastic distribution for the response
at time = 0. This is specified as a random number generator
(RNG) given as a string, and can take any RNG distribution for which a function exists
in R. For example: <code>~rnorm(n, 7, 0.5)</code>.</p></li>
</ul></dd>


<dt id="arg-treats">treats<a class="anchor" aria-label="anchor" href="#arg-treats"></a></dt>
<dd><p>A character vector of treatment/class names or a numeric vector of treatment/class codes (as coded
in <code>mbnma</code>) that indicates which treatments/classes to calculate predictions for. If left as <code>NULL</code> then
predictions will be calculated for all treatments/classes. Whether the vector should correspond to treatments or
classes depends on the value of <code>level</code>.</p></dd>


<dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Can take either <code>"treatment"</code> to make predictions for treatments, or <code>"class"</code> to make predictions for classes (in
which case <code>object</code> must be a class effect model).</p></dd>


<dt id="arg-ref-resp">ref.resp<a class="anchor" aria-label="anchor" href="#arg-ref-resp"></a></dt>
<dd><p>An object to indicate the value(s) to use for the reference treatment response in MBNMA models
in which the reference treatment response is not estimated within the model (i.e. those that model any time-
course parameters using <code>pool="rel"</code>). This can take a number of different formats depending
on how it will be used/calculated. There are two approaches for this:</p><ol><li><p>The reference response can be estimated from a dataset of studies investigating the reference
treatment using meta-analysis. This dataset could be a set of observational
studies that are specific to the population on which to make
predictions, or it could be a subset of the study arms within the MBNMA dataset
that investigate the reference treatment. The data should be provided to <code>ref.resp</code> as a
<code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> containing the data in long format (one row per observation). See <code><a href="ref.synth.html">ref.synth()</a></code></p></li>
<li><p>Values for the reference treatment response can be assigned to different time-course parameters
within the model that have been modelled using consistency relative effects (<code>pool="rel"</code>).
These are given as a list, in which each named element corresponds to a time-course
parameter modelled in <code>mbnma</code>, specified on the corresponding scale (i.e. specified on the log scale if modelled
on the log scale using Ratios of Means). Their values can be either of the following:</p></li>
</ol><ul><li><p><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code> A numeric value representing the deterministic value of the time-course parameter in
question in individuals given the reference treatment. <code>0</code> is used as the default, which assumes no
effect of time on the reference treatment (i.e. mean differences / relative effects versus the
reference treatment are modeled).</p></li>
<li><p><code><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula()</a></code> A formula representing a stochastic distribution for the value of the time-course
parameter in question. This is specified as a random number generator (RNG) given as a formula,
and can take any RNG distribution for which a function exists in R. For example: <code>~rnorm(n, -3, 0.2)</code>.</p></li>
</ul></dd>


<dt id="arg-synth">synth<a class="anchor" aria-label="anchor" href="#arg-synth"></a></dt>
<dd><p>A character object that can take the value <code>"common"</code> or <code>"random"</code> that
specifies the the type of pooling to use for synthesis of <code>ref.resp</code>. Using <code>"random"</code> rather
than <code>"common"</code> for <code>synth</code> will result in wider 95\% CrI for predictions.</p></dd>


<dt id="arg-lim">lim<a class="anchor" aria-label="anchor" href="#arg-lim"></a></dt>
<dd><p>Specifies calculation of either 95% credible intervals (<code>lim="cred"</code>) or 95% prediction intervals (<code>lim="pred"</code>).</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments to be sent to R2jags for synthesis of the network
reference treatment effect (using <code><a href="ref.synth.html">ref.synth()</a></code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An S3 object of class <code>mb.predict</code> that contains the following
elements:</p><ul><li><p><code>summary</code> A named list of data frames. Each data frame contains
a summary of predicted responses at follow-up times specified in <code>times</code>
for each treatment specified in <code>treats</code></p></li>
<li><p><code>pred.mat</code> A named list of
matrices. Each matrix contains the MCMC results of predicted responses at
follow-up times specified in <code>times</code> for each treatment specified in
<code>treats</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default the network reference treatment baseline (<code>E0</code>) and time-course
parameter values are set to zero so that <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> estimates mean differences
(/relative treatment effects) over time versus the network reference treatment.</p>
<p><code>ref.resp</code> only needs to be specified if <code>mbnma</code> has
been estimated using consistency relative effects (<code>pool="rel"</code>) for
any time-course parameters, as these inform the absolute values of the
network reference treatment parameters which can then be added to the
relative effects to calculate specific predictions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Create an mb.network object from a dataset</span></span></span>
<span class="r-in"><span><span class="va">network</span> <span class="op">&lt;-</span> <span class="fu"><a href="mb.network.html">mb.network</a></span><span class="op">(</span><span class="va">osteopain</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Reference treatment is `Pl_0`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Studies reporting change from baseline automatically identified from the data</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Run an MBNMA model with an Emax time-course</span></span></span>
<span class="r-in"><span><span class="va">emax</span> <span class="op">&lt;-</span> <span class="fu"><a href="mb.run.html">mb.run</a></span><span class="op">(</span><span class="va">network</span>,</span></span>
<span class="r-in"><span>  fun<span class="op">=</span><span class="fu"><a href="temax.html">temax</a></span><span class="op">(</span>pool.emax<span class="op">=</span><span class="st">"rel"</span>, method.emax<span class="op">=</span><span class="st">"common"</span>,</span></span>
<span class="r-in"><span>    pool.et50<span class="op">=</span><span class="st">"abs"</span>, method.et50<span class="op">=</span><span class="st">"common"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'et50' parameters must take positive values.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  Default half-normal prior restricts posterior to positive values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 7703</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict responses using a stochastic baseline (E0) and a distribution for the</span></span></span>
<span class="r-in"><span><span class="co">#network reference treatment</span></span></span>
<span class="r-in"><span><span class="va">preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">emax</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  E0<span class="op">=</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="fl">7</span>, <span class="fl">0.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ref.resp<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>emax<span class="op">=</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">n</span>, <span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Priors required for: mu.1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00; font-weight: bold;">Success: Elements in prior match consistency time-course treatment effect parameters</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">preds</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       time     Pl_0   Ce_100   Ce_200   Ce_400    Du_90    Et_10    Et_30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]    0 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]    1 6.654005 6.277595 6.104248 6.041727 6.273260 6.583141 5.931645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]    2 6.586376 6.132550 5.923556 5.848157 6.127338 6.500929 5.715457</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]    3 6.557187 6.069945 5.845565 5.764606 6.064356 6.465444 5.622145</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]    4 6.540916 6.035047 5.802091 5.718031 6.029248 6.445664 5.570129</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]    5 6.530541 6.012795 5.774370 5.688333 6.006863 6.433051 5.536963</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]    6 6.523350 5.997369 5.755153 5.667746 5.991344 6.424308 5.513971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]    7 6.518071 5.986046 5.741048 5.652635 5.979954 6.417890 5.497095</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]    8 6.514031 5.977382 5.730254 5.641071 5.971237 6.412979 5.484180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]    9 6.510840 5.970538 5.721728 5.631936 5.964352 6.409100 5.473979</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,]   10 6.508256 5.964995 5.714822 5.624539 5.958776 6.405958 5.465717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Et_5    Et_60    Et_90   Lu_100   Lu_200   Lu_400    Lu_NA  Na_1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 6.583111 5.542913 5.546205 6.136971 6.147000 6.026084 6.067452 5.878372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 6.500893 5.246761 5.250730 5.963018 5.975096 5.829328 5.879216 5.651218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 6.465406 5.118931 5.123194 5.887937 5.900898 5.744404 5.797971 5.553171</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 6.445624 5.047674 5.052100 5.846084 5.859537 5.697065 5.752683 5.498516</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 6.433010 5.002238 5.006768 5.819398 5.833164 5.666881 5.723807 5.463666</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 6.424266 4.970740 4.975343 5.800899 5.814882 5.645956 5.703789 5.439507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 6.417848 4.947621 4.952276 5.787320 5.801463 5.630597 5.689095 5.421774</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 6.412937 4.929928 4.934625 5.776929 5.791194 5.618844 5.677851 5.408204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 6.409057 4.915953 4.920681 5.768721 5.783082 5.609560 5.668970 5.397485</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 6.405915 4.904635 4.909389 5.762073 5.776513 5.602041 5.661777 5.388804</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Na_1500   Na_250   Na_750    Ox_44    Ro_12   Ro_125    Ro_25   Tr_100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 5.934742 6.861256 6.108814 5.901650 6.134200 5.110176 5.884283 6.527851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 5.719188 6.836272 5.929065 5.679299 5.959650 4.725026 5.658357 6.434269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 5.626149 6.825493 5.851481 5.583328 5.884309 4.558782 5.560841 6.393877</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 5.574286 6.819485 5.808234 5.529830 5.842310 4.466111 5.506482 6.371362</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 5.541217 6.815654 5.780658 5.495719 5.815531 4.407021 5.471822 6.357005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 5.518293 6.812999 5.761542 5.472072 5.796967 4.366059 5.447794 6.347053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 5.501466 6.811050 5.747510 5.454715 5.783340 4.335991 5.430158 6.339748</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 5.488589 6.809559 5.736773 5.441432 5.772912 4.312982 5.416661 6.334157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 5.478418 6.808381 5.728291 5.430940 5.764676 4.294807 5.406001 6.329742</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 5.470180 6.807427 5.721422 5.422443 5.758005 4.280088 5.397367 6.326165</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Tr_200   Tr_300   Tr_400    Va_10    Va_20     Va_5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 6.982937 6.982937 6.982937 6.982937 6.982937 6.982937</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 6.457922 6.202329 6.166151 6.189528 6.053794 6.163452</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 6.349964 6.041804 5.998175 6.026372 5.862709 5.994933</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 6.303367 5.972516 5.925672 5.955950 5.780230 5.922196</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 6.277393 5.933893 5.885255 5.916694 5.734253 5.881649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 6.260831 5.909266 5.859484 5.891663 5.704937 5.855796</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 6.249349 5.892194 5.841619 5.874312 5.684614 5.837874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 6.240922 5.879663 5.828506 5.861575 5.669697 5.824719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 6.234473 5.870074 5.818471 5.851829 5.658281 5.814652</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 6.229379 5.862499 5.810545 5.844130 5.649264 5.806700</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 6.225254 5.856364 5.804125 5.837895 5.641961 5.800260</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Predict responses using the original dataset to estimate the network reference</span></span></span>
<span class="r-in"><span><span class="co">#treatment response</span></span></span>
<span class="r-in"><span><span class="va">paindata.ref</span> <span class="op">&lt;-</span> <span class="va">osteopain</span><span class="op">[</span><span class="va">osteopain</span><span class="op">$</span><span class="va">treatname</span><span class="op">==</span><span class="st">"Placebo_0"</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">emax</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  E0<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>  ref.resp<span class="op">=</span><span class="va">paindata.ref</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data frame must contain only data from reference treatment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Studies reporting change from baseline automatically identified from ref.resp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 31</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 2037</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">preds</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       time     Pl_0   Ce_100   Ce_200   Ce_400    Du_90    Et_10    Et_30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]    5 8.534903 8.017156 7.778731 7.692695 8.011224 8.437413 7.541324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]    6 8.511609 7.985628 7.743413 7.656006 7.979604 8.412567 7.502230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]    7 8.494511 7.962486 7.717488 7.629075 7.956394 8.394330 7.473535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]    8 8.481426 7.944777 7.697649 7.608466 7.938633 8.380374 7.451575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]    9 8.471091 7.930788 7.681978 7.592187 7.924603 8.369351 7.434230</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]   10 8.462721 7.919459 7.669287 7.579003 7.913241 8.360423 7.420182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]   11 8.455804 7.910097 7.658799 7.568108 7.903851 8.353045 7.408573</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]   12 8.449992 7.902231 7.649987 7.558954 7.895962 8.346846 7.398819</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]   13 8.445039 7.895528 7.642478 7.551154 7.889239 8.341564 7.390507</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]   14 8.440769 7.889748 7.636004 7.544428 7.883443 8.337009 7.383341</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,]   15 8.437049 7.884714 7.630364 7.538569 7.878393 8.333041 7.377098</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Et_5    Et_60    Et_90   Lu_100   Lu_200   Lu_400    Lu_NA  Na_1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 8.437372 7.006599 7.011130 7.823760 7.837526 7.671242 7.728168 7.468028</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 8.412526 6.959000 6.963602 7.789158 7.803142 7.634216 7.692048 7.427767</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 8.394288 6.924061 6.928716 7.763760 7.777903 7.607037 7.665535 7.398215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 8.380332 6.897324 6.902020 7.744324 7.758589 7.586239 7.645247 7.375600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 8.369308 6.876204 6.880932 7.728972 7.743333 7.569811 7.629221 7.357736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 8.360380 6.859100 6.863854 7.716538 7.730977 7.556506 7.616241 7.343269</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 8.353002 6.844965 6.849741 7.706263 7.720767 7.545511 7.605516 7.331314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 8.346803 6.833088 6.837882 7.697630 7.712188 7.536272 7.596504 7.321268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 8.341520 6.822969 6.827778 7.690273 7.704878 7.528400 7.588825 7.312709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 8.336966 6.814243 6.819065 7.683931 7.698575 7.521613 7.582203 7.305328</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 8.332998 6.806642 6.811476 7.678405 7.693084 7.515700 7.576435 7.298899</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Na_1500   Na_250   Na_750    Ox_44    Ro_12   Ro_125    Ro_25   Tr_100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 7.545579 8.820016 7.785020 7.500080 7.819893 6.411383 7.476183 8.361367</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 7.506552 8.801259 7.749801 7.460331 7.785226 6.354318 7.436054 8.335312</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 7.477906 8.787490 7.723950 7.431155 7.759780 6.312431 7.406598 8.316188</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 7.455984 8.776955 7.704168 7.408827 7.740308 6.280378 7.384057 8.301553</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 7.438668 8.768632 7.688542 7.391191 7.724926 6.255058 7.366251 8.289992</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 7.424645 8.761892 7.675887 7.376908 7.712470 6.234553 7.351831 8.280630</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 7.413056 8.756322 7.665429 7.365105 7.702175 6.217607 7.339915 8.272893</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 7.403318 8.751642 7.656641 7.355187 7.693526 6.203369 7.329902 8.266392</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 7.395021 8.747655 7.649154 7.346736 7.686156 6.191237 7.321371 8.260853</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 7.387867 8.744216 7.642698 7.339450 7.679801 6.180776 7.314014 8.256077</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 7.381635 8.741221 7.637074 7.333102 7.674265 6.171663 7.307606 8.251916</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Tr_200   Tr_300   Tr_400    Va_10    Va_20     Va_5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 8.265192 7.913628 7.863846 7.896025 7.709298 7.860158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 8.237609 7.880454 7.829879 7.862571 7.672873 7.826133</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 8.217362 7.856103 7.804946 7.838015 7.646137 7.801159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 8.201869 7.837469 7.785867 7.819224 7.625676 7.782047</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 8.189630 7.822750 7.770796 7.804381 7.609515 7.766951</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 8.179718 7.810829 7.758590 7.792360 7.596426 7.754724</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 8.171528 7.800978 7.748504 7.782426 7.585610 7.744621</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 8.164645 7.792701 7.740028 7.774079 7.576521 7.736131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 8.158781 7.785648 7.732807 7.766966 7.568777 7.728898</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 8.153725 7.779567 7.726580 7.760834 7.562100 7.722661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 8.149320 7.774269 7.721156 7.755491 7.556283 7.717227</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Repeat the above prediction but using a random effects meta-analysis of the</span></span></span>
<span class="r-in"><span><span class="co">#network reference treatment response</span></span></span>
<span class="r-in"><span><span class="va">preds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">emax</span>, times<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  E0<span class="op">=</span><span class="fl">10</span>,</span></span>
<span class="r-in"><span>  ref.resp<span class="op">=</span><span class="va">paindata.ref</span>,</span></span>
<span class="r-in"><span>  synth<span class="op">=</span><span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Data frame must contain only data from reference treatment</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Studies reporting change from baseline automatically identified from ref.resp</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Compiling model graph</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Resolving undeclared variables</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Allocating nodes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Graph information:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Observed stochastic nodes: 113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Unobserved stochastic nodes: 61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Total graph size: 2261</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Initializing model</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">preds</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       time     Pl_0   Ce_100   Ce_200   Ce_400    Du_90    Et_10    Et_30</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]    5 8.536691 8.018944 7.780519 7.694483 8.013012 8.439201 7.543112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]    6 8.513431 7.987450 7.745235 7.657827 7.981426 8.414389 7.504052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,]    7 8.496358 7.964334 7.719335 7.630922 7.958241 8.396177 7.475382</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,]    8 8.483293 7.946644 7.699516 7.610333 7.940499 8.382241 7.453442</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]    9 8.472973 7.932670 7.683860 7.594069 7.926485 8.371233 7.436112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]   10 8.464615 7.921354 7.671182 7.580898 7.915135 8.362317 7.422076</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,]   11 8.457708 7.912002 7.660704 7.570013 7.905756 8.354950 7.410478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]   12 8.451905 7.904144 7.651900 7.560867 7.897875 8.348759 7.400732</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,]   13 8.446960 7.897449 7.644399 7.553075 7.891160 8.343484 7.392428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]   14 8.442696 7.891676 7.637931 7.546355 7.885370 8.338936 7.385268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,]   15 8.438982 7.886646 7.632296 7.540502 7.880326 8.334974 7.379030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Et_5    Et_60    Et_90   Lu_100   Lu_200   Lu_400    Lu_NA  Na_1000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 8.439160 7.008387 7.012917 7.825547 7.839314 7.673030 7.729956 7.469815</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 8.414348 6.960822 6.965424 7.790980 7.804964 7.636037 7.693870 7.429589</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 8.396135 6.925908 6.930563 7.765607 7.779750 7.608884 7.667383 7.400062</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 8.382199 6.899190 6.903886 7.746191 7.760456 7.588106 7.647113 7.377466</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 8.371190 6.878086 6.882814 7.730853 7.745215 7.571693 7.631103 7.359618</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 8.362274 6.860994 6.865748 7.718432 7.732872 7.558400 7.618136 7.345164</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 8.354907 6.846870 6.851645 7.708168 7.722672 7.547415 7.607420 7.333219</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 8.348716 6.835002 6.839796 7.699543 7.714101 7.538185 7.598417 7.323182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 8.343441 6.824890 6.829699 7.692194 7.706798 7.530321 7.590745 7.314630</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 8.338893 6.816170 6.820993 7.685858 7.700502 7.523540 7.584130 7.307256</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 8.334931 6.808574 6.813408 7.680338 7.695016 7.517633 7.578368 7.300832</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        Na_1500   Na_250   Na_750    Ox_44    Ro_12   Ro_125    Ro_25   Tr_100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 7.547366 8.821804 7.786807 7.501868 7.821680 6.413171 7.477971 8.363154</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 7.508374 8.803081 7.751623 7.462153 7.787048 6.356140 7.437876 8.337134</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 7.479753 8.789338 7.725797 7.433002 7.761627 6.314278 7.408445 8.318035</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 7.457851 8.778821 7.706035 7.410694 7.742174 6.282244 7.385923 8.303419</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 7.440550 8.770514 7.690424 7.393073 7.726808 6.256940 7.368133 8.291874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 7.426539 8.763787 7.677781 7.378802 7.714364 6.236447 7.353726 8.282525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 7.414961 8.758227 7.667333 7.367009 7.704080 6.219512 7.341820 8.274798</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 7.405232 8.753556 7.658555 7.357100 7.695439 6.205282 7.331816 8.268306</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 7.396942 8.749575 7.651075 7.348657 7.688076 6.193158 7.323292 8.262774</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 7.389794 8.746143 7.644625 7.341377 7.681728 6.182703 7.315942 8.258004</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 7.383568 8.743154 7.639007 7.335035 7.676197 6.173596 7.309539 8.253849</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         Tr_200   Tr_300   Tr_400    Va_10    Va_20     Va_5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,] 8.266980 7.915416 7.865634 7.897813 7.711086 7.861945</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,] 8.239431 7.882276 7.831701 7.864393 7.674695 7.827955</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 8.219209 7.857950 7.806793 7.839863 7.647984 7.803006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 8.203735 7.839336 7.787733 7.821091 7.627543 7.783914</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,] 8.191512 7.824632 7.772678 7.806263 7.611397 7.768833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,] 8.181613 7.812723 7.760485 7.794254 7.598320 7.756619</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 8.173432 7.802883 7.750408 7.784330 7.587514 7.746526</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,] 8.166559 7.794614 7.741942 7.775992 7.578435 7.738045</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 8.160702 7.787569 7.734728 7.768887 7.570698 7.730819</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,] 8.155652 7.781494 7.728508 7.762761 7.564027 7.724588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,] 8.151253 7.776202 7.723089 7.757424 7.558216 7.719160</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

