<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Similar parameterisation to the Emax model but with non-asymptotic maximal effect (Emax). Proposed
by proposed by Fu and Manner (2010)"><title>Integrated Two-Component Prediction (ITP) function — titp • MBNMAtime</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Integrated Two-Component Prediction (ITP) function — titp"><meta property="og:description" content="Similar parameterisation to the Emax model but with non-asymptotic maximal effect (Emax). Proposed
by proposed by Fu and Manner (2010)"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MBNMAtime</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.3.900</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/MBNMAtime.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Integrated Two-Component Prediction (ITP) function</h1>
      
      <div class="d-none name"><code>titp.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Similar parameterisation to the Emax model but with non-asymptotic maximal effect (Emax). Proposed
by proposed by Fu and Manner (2010)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">titp</span><span class="op">(</span></span>
<span>  pool.emax <span class="op">=</span> <span class="st">"rel"</span>,</span>
<span>  method.emax <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>  pool.rate <span class="op">=</span> <span class="st">"rel"</span>,</span>
<span>  method.rate <span class="op">=</span> <span class="st">"common"</span>,</span>
<span>  p.expon <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pool.emax</dt>
<dd><p>Pooling for exponential Emax parameter. Can take <code>"rel"</code> or <code>"abs"</code> (see details).</p></dd>


<dt>method.emax</dt>
<dd><p>Method for synthesis of exponential Emax parameter. Can take <code>"common</code>, <code>"random"</code>, or be assigned a numeric value (see details).</p></dd>


<dt>pool.rate</dt>
<dd><p>Pooling for parameter controlling rate of onset. Default is <code>NULL</code> which avoids including
this parameter (i.e. fixes it to 1 for all treatments). Can take <code>"rel"</code> or <code>"abs"</code> (see details).</p></dd>


<dt>method.rate</dt>
<dd><p>Method for synthesis of parameter controlling rate of onset. Can take <code>"common</code>, <code>"random"</code>, or be assigned a numeric value (see details).</p></dd>


<dt>p.expon</dt>
<dd><p>Should parameters that can only take positive values be modeled on the exponential scale (<code>TRUE</code>)
or should they be assigned a prior that restricts the posterior to positive values (<code>FALSE</code>)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of <code>class("timefun")</code></p>


    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>$${E_{max}}\times\frac{(1-exp(-{rate}\times{x}))}{(1-exp(-{rate}\times{max(x)}))}$$</p>
    </div>
    <div class="section level2">
    <h2 id="time-course-parameters">Time-course parameters<a class="anchor" aria-label="anchor" href="#time-course-parameters"></a></h2>
    

<p>Time-course parameters in the model must be specified using a <code>pool</code> and a <code>method</code> prefix.</p>
<p><code>pool</code> is used to define the approach used for pooling of a given time-course parameter and
can take any of:</p><table class="table table"><tr><td><strong>Argument</strong></td><td><strong>Model specification</strong></td></tr><tr><td><code>"rel"</code></td><td>Indicates that <em>relative</em> effects should be pooled for this time-course parameter. Relative effects preserve randomisation within included studies, are likely to vary less between studies (only due to effect modification), and allow for testing of consistency between direct and indirect evidence. Pooling follows the general approach for Network Meta-Analysis proposed by Lu and Ades (2004)
.</td></tr><tr><td><code>"abs"</code></td><td>Indicates that study arms should be pooled across the whole network for this time-course parameter  <em>independently of assigned treatment</em> to estimate an <em>absolute</em> effect. This implies estimating a single value across the network for this time-course parameter, and may therefore be making strong assumptions of similarity.</td></tr></table><p><code>method</code> is used to define the model used for meta-analysis for a given time-course parameter
and can take any of the following values:</p><table class="table table"><tr><td><strong>Argument</strong></td><td><strong>Model specification</strong></td></tr><tr><td><code>"common"</code></td><td>Implies that all studies estimate the same true effect (often called a "fixed effect" meta-analysis)</td></tr><tr><td><code>"random"</code></td><td>Implies that all studies estimate a separate true effect, but that each of these true effects vary randomly around a true mean effect. This approach allows for modelling of between-study heterogeneity.</td></tr><tr><td><code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code></td><td>Assigned a numeric value, indicating that this time-course parameter should not be estimated from the data but should be assigned the numeric value determined by the user. This can be useful for fixing specific time-course parameters (e.g. Hill parameters in Emax functions, power parameters in fractional polynomials) to a single value.</td></tr></table></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fu H, Manner D (2010).
“Bayesian adaptive dose-finding studies with delayed responses.”
<em>J Biopharm Stat</em>, <b>20</b>(5), 1055-1070.
<a href="https://doi.org/10.1080/10543400903315740" class="external-link">doi:10.1080/10543400903315740</a>
.<br><br> Lu G, Ades AE (2004).
“Combination of direct and indirect evidence in mixed treatment comparisons.”
<em>Stat Med</em>, <b>23</b>(20), 3105-24.
ISSN 0277-6715 (Print) 0277-6715 (Linking), <a href="https://doi.org/10.1002/sim.1875" class="external-link">doi:10.1002/sim.1875</a>
, <a href="https://pubmed.ncbi.nlm.nih.gov/15449338/" class="external-link">https://pubmed.ncbi.nlm.nih.gov/15449338/</a>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">titp</span><span class="op">(</span>pool.emax<span class="op">=</span><span class="st">"rel"</span>, method.emax<span class="op">=</span><span class="st">"random"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'rate' parameters must take positive values.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  Default half-normal prior restricts posterior to positive values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "itp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fun</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ~emax * (1 - exp(-rate * time))/(1 - exp(-rate * max(time)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55add79d9238&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (time, beta.1, beta.2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y &lt;- beta.1 * (1 - exp(-beta.2 * time))/(1 - exp(-beta.2 * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         max(time)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     return(y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55add53769e0&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55add79d9238&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $latex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "\beta_1 * (1-exp(-\beta_2*x_m)) / (1-exp(-\beta_2*max(x_m)))"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "emax" "rate"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nparam</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $jags</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "beta.1[i,k] * ((1-exp(-beta.2[i,k]*time[i,m])) / (1-exp(-beta.2[i,k]*maxtime)))"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $apool</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  emax  rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "rel" "rel" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $amethod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "random" "common" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "beta.1" "beta.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bpool</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "pool.1" "pool.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bmethod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       emax       rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "method.1" "method.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $p.expon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "timefun"</span>
<span class="r-in"><span><span class="fu">titp</span><span class="op">(</span>pool.emax<span class="op">=</span><span class="st">"abs"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 'rate' parameters must take positive values.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  Default half-normal prior restricts posterior to positive values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "itp"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $fun</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ~emax * (1 - exp(-rate * time))/(1 - exp(-rate * max(time)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55add6579000&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $f</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (time, beta.1, beta.2) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y &lt;- beta.1 * (1 - exp(-beta.2 * time))/(1 - exp(-beta.2 * </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         max(time)))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     return(y)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55add53769e0&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55add6579000&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $latex</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "\beta_1 * (1-exp(-\beta_2*x_m)) / (1-exp(-\beta_2*max(x_m)))"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $params</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "emax" "rate"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $nparam</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $jags</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "beta.1 * ((1-exp(-beta.2[i,k]*time[i,m])) / (1-exp(-beta.2[i,k]*maxtime)))"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $apool</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  emax  rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "abs" "rel" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $amethod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "common" "common" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bname</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "beta.1" "beta.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bpool</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     emax     rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "pool.1" "pool.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $bmethod</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       emax       rate </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "method.1" "method.2" </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $p.expon</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"class")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "timefun"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Hugo Pedder.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

